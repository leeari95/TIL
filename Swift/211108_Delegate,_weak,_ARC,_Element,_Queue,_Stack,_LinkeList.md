# 211108 Delegate, weak, ARC, Element, Queue, Stack, LinkeList
# TIL (Today I Learned)

11월 8일 (월)

## 학습 내용
오늘은 프로토콜에 대해서 활동학습을 진행하였다. Delegate 패턴이 잘 이해가 안갔었는데, 학습을 통해서 조금이나마 이해해보려고 노력했다... 이후에는 새로운 프로젝트인 계산기 프로젝트 STEP 1을 진행하였다. 진행하기 앞서 고사리가 ARC관련에 대해서 의문점을 가지고 있어서 따라다니며 해결하는 과정을 같이 겪었는데, ARC는 언제나 어렵다..

&nbsp;

## 문제점 / 고민한 점
- Delegate 패턴이 잘 이해가 가지않았다.
- 열거형 타입은 어떨 때 사용하면 좋을까?
- Delegate 관련 공식문서를 볼 때 Ask와 Tall의 차이?
- IBOutlet에 weak가 붙는 이유
- Element의 용도가 뭘까? T랑 다른점은?
- Queue를 배열로 구현해도 괜찮을까?
        
&nbsp;
## 해결방법
- Delgate 패턴에 대해서 이해해보려고 여러가지의 글들을 찾아보면서 정리해보았다.
    # Delegation 디자인 패턴
    어떤 상황이 발생했을 때 어떤 객체에게 응답을 준다.
    약간 리모콘을 발동시킨다는 느낌?

    ### 선언부 (처리하라고 시키는 객체, 주로 이벤트를 받는 뷰들)
    * **리모콘호출** 응답을 받아서 일을 처리할 클래스에 프로토콜 타입 프로퍼티를 옵셔널로 선언한다.
    * **리모콘작동** 어느 시점에서 실행할지 정했던 부분에 프로토콜의 메서드를 호출해주면 된다. 

    ### 구현부 (대신 처리해줄 객체 , ViewController)
    * 프로토콜을 생성한다.
    * **리모콘설계** 첫번째 뷰에 delegate를 채택하고 프로토콜을 준수한다 (메서드 구현 등…) 
    * **리모콘전달** 프로토콜을 채택하고 준수한 첫번째 뷰에서 리모콘을 실행할 다음 뷰로 넘어갈때 자신을 넘겨준다 (예시: nextView.delegate = self)
    ### 언제 사용할까?
    * 하나의 객체가 해야하는일이 여러가지일 때
    * 수신받는 객체가 많을 때, 콜백 블럭을 받기 위한 목적이 분명할 때
    * 내부의 블록을 호출시키는 코드를 읽고 다시 돌아와서 추적할 일이 없는 경우
* 열거형은 변하지 않을 값들을 묶을 때 사용하면 좋다.
    * (예시: 월,화,수,목,금,토,일)
* Ask 는 비서의 응답을 듣는다. tell은 비서의 응답을 듣지 않는다.
* 뷰끼리 순환참조가 가능해서 label은 weak 키워드로 만들어주는 것이 적절하다. 뷰 종료시 참조 카운팅(메모리 누수)을 피하기 위해서 weak 키워드를 쓴다.
* Element는 요소라는 뜻이다. 공식문서를 참고하고 stackoverflow를 참고하니 T와 Element 차이는 크게 없고 이름을 줄지, T로 명시할지는 사용자의 몫이라고 되어있다. 이번 프로젝트에서 나는 Element로 명시해주기로 하였다. 그게 좀더 코드를 보는데 있어서 직관적인 것 같다.
* 시간복잡도에 대해서 공부해보니 Queue를 배열로 구현할 때 dequeue 작업이 시간복잡도 O(n)이 걸려서 비효율적이라고 한다. 따라서 삽입/삭제가 O(1)이 소요되는 LinkedList나 DoubleStack을 활용하여 구현해보았다.
    # 시간복잡도
    - **O(1) – 상수 시간** : 문제를 해결하는데 오직 한 단계만 처리함.
    - **O(log n) – 로그 시간** : 문제를 해결하는데 필요한 단계들이 연산마다 특정 요인에 의해 줄어듬.
    - **O(n) – 직선적 시간** : 문제를 해결하기 위한 단계의 수와 입력값 n이 1:1 관계를 가짐.
    - **O(n log n)** : 문제를 해결하기 위한 단계의 수가 N*(log2N) 번만큼의 수행시간을 가진다. (선형로그형)
    - **O(n^2)** – **2차 시간** : 문제를 해결하기 위한 단계의 수는 입력값 n의 제곱.
    - **O(C^n)** – **지수 시간** : 문제를 해결하기 위한 단계의 수는 주어진 상수값 C 의 n 제곱.

&nbsp;

---

- 참고링크
    - [Element vs. Generic Type <T>](https://stackoverflow.com/questions/55542757/element-vs-generic-type-t)
    - [Element](https://developer.apple.com/documentation/swift/sequence/2908099-element)
