# 211008 Destructuring, commit, branch, Changes requested, refactoring, 전역변수를 잘안쓰는 이유, naming, reduce
# TIL (Today I Learned)

10월 8일 (금)

## 학습 내용
자정부터 잠안자고 피드백을 살펴보면서 고민해보는 시간을 가지다가 새벽 2시쯤... 잠이들었다. 이후 오전 아침에는 활동학습으로 옵셔널에 대해서 예제코드를 작성해본다음 서로 설명해보는 시간을 가졌다. 옵셔널을 거의 이해하고 있다고 생각했는데 알고 있지 못했던 생소한 것들도 얻게되는 유익한 시간이였다. 도중에 예약시간이 다되서 백신 2차접종을 맞으러갔다. 오후에는 타이레놀로 버텨가며 팀원들과 피드백에 대한 고민을 시작해보기로 하였다. 프로젝트 중간에 리뷰어랑 서포터즈가 회의실에 들어와서 많은 것들을 피드백해주며 가르침을 주셨다. 
&nbsp;
## 문제점 / 고민한 점
- Swift의 기본 타입들의 코드 내부를 보려면 어떻게 해야하지?
- 들여쓰기는 함수 포함하여 카운트하는 것이 아닌가..?
- `naming`이 가장 어려운 문제인 것 같다. 적절하게 하려면 어떤 것이 중요할까?
- `Int 배열`을 `joined` 해보라는 피드백에서 그럼 `map`으로 `String 배열`로 변환후 `joined`를 해야되겠다... 하다가, `reduce`로 합칠 수 있는 것이 아닌가? 라는 의문이 들었다.
- 튜플을 선언하면서 값들을 바로 불러올 수 있는 방법이 뭐가 있을까?
- `전역변수`를 잘 안쓰게 되는 이유는 뭘까?
- 프로젝트 요구사항에 대해서 *의문점* 이 생긴다면 어떻게 해야할까?
- `commit`시 `body`를 적는 방법을 모르겠다.
- `refactoring`의 스킬들이 궁금해졌다. 그리고 그 방식들이 일반적인 방법보다 *왜?* 좋은지 더 공부해보고 싶다.
- 함수는 무조건 짧은 것이 좋을까? 아니면 몇줄 길어도 가독성이 좋은 내부가 더 좋은걸까?
- `master 브랜치`가 `기능 구현을 위해 별도로 만들어둔 브랜치`보다 앞서 나가있는 상황에서 `merge`해야하는 상황이라면 어떤식으로 `merge`를 해나가야 할까?
- `Changes requested` 이후 재검토 요청을 하려면 어떻게 해야하지?
- 순서도 작성 기준에 대해서... 간단히 적어도 될까?
- REDME는 어떤식으로 작성해나가야 하지?
- 프로젝트 STEP을 모두 마무리하지 못해서 아쉬웠다. 끝까지 마무리 하고 싶었지만, 여기까지여도 배운 것이 정말 많기 때문에 마무리 짓기로 하였다.
&nbsp;
## 해결방법
- **Google**에 `swift github optional operator`라고 검색하니 바로 맨 상단에 나타났다. 코드 내부를 보고싶을 때에는 `Swift Github`를 찾아가면 될 것 같다.
- 들여쓰기 기준은 함수를 포함하여 카운트 하는 것이 맞는 것 같지만, 사람마다 의견차이가 있는 것 같다.
- `naming`은 서포터즈 `Wody`에게 조언을 구했다. `naming`시에는 함수나 변수의 역할에 집중하며, 최대한 하나의 역할을 맡는 이름을 지어주면 될 것 같다.
- reduce로 아주 손쉽게 Int배열을 합쳐줄 수가 있었다.
    ```swift
    // 예제
    let numbers = [1, 2, 3]
    print(numbers.reduce("", { $0 + String($1) + " " }))
    // "1 2 3 "
    ```
- destructuring에 대해서 알게되었다. 튜플을 단일 할당할 때 여러값으로 분리하는 방법이다.
    ```swift
    let (first, last) = ("Ari", "Lee")
    print(first) // Ari
    print(last) // Lee
    ```
- 전역변수를 사용하면 생기는 문제
    - 어디서 값이 변경되는지 추적이 어렵다.
    - 프로그램 내 변수와 함수 등 여러 요소들과 간섭이 심해짐
    - 전역 변수는 모든 곳에서 보이므로 네임스페임스가 오염된다.
    - 전역 변수가 메모리 할당 외에 side effect가 있으면 문제 발생 소지가 크다. (상호 의존 등...)
    - 전역 변수는 생명 주기가 길다. 따라서 메모리 리소스도 오랜 기간 소비한다.(메모리릭)
- 프로젝트 요구사항에 대해서 `"이 부분은 고려해야하는 것이 아닌가?"`하는 생각이 들 때면 `요구사항을 제시한 사람`에게 찾아가 물어보는 것이 **가장 정확한 답**이 될 수 있겠다.
- `commit`시 `body`를 적을 때에는 한번 `줄바꿈` 하여 작성해야 하며, `명령형 어조`, `현재 시제`를 사용하는 것을 권장한다. 또한 이전 행동과 대조하여 `변경을 한 동기`를 포함하는 것을 권장한다. 보기좋은 메세지를 만들고 싶다면 `-`와 `줄바꿈`을 활용하여 작성한다.![](https://i.imgur.com/eygw8Tv.png)
- refactoring 스킬들
    - 하나의 함수에서 너무 많은 일을 하고 있지 않은지 확인한다.
    - 새로운 타입을 만들어 활용한다.
    - 구현체를 직접적으로 의존하지말고, 추상화한 상위 클래스 또는 프로토콜을 의존하도록 설계한다.
    - 객체의 내부 프로퍼티를 보호하고, 인터페이스를 추상화한다.
- 내가 생각했을 때는 함수의 길이가 너무 길어지는 것도 안좋지만 그렇다고 조금 길어지는 정도 가지고 분리하면 안되는 부분을 따로 분리하여 함수를 만들어도 가독성이 떨어지는 것 같다. 로직을 변경해보는 다른 방법도 한번 고려해보는 것이 좋을 것 같다는 생각이 들었다. 항상 어려운 상황이 닥치게 되면 피하려고만 했는데 그러지말고 일단 발생한 문제에 맞서서 다르게 고민해봐야겠다.
- 먼저 `앞서나간 브랜치(master)`를 `뒤쳐져있는 브랜치`에 `merge`하고 `conflict`을 해결한다. 이후 다시 `master branch`에 `merge`하여 합치면 된다.
- 순서도를 작성하는 이유는 `설계`를 위한 것이다. 따라서 코드를 작성하기 전에 어떻게 설계를 할지 충분히 고민한 후 설계도를 작성하는 것이 좋겠다.
- REDME는 구현사항을 간단하게 적고, `고민했던 것들`, `궁금했던 것들`, 그리고 `Trouble Shooting` 위주로 잘 정하면 될 것 같다.
- 함수의 순서는 읽기 좋은 순서대로 하는 것을 권장한다.
- 프로젝트는 모든 STEP을 마치는 것이 중요한게 아니라 STEP을 진행하면서 해왔던 `고민들`과 `경험`들이 **중요하다.**
&nbsp;

---

- 참고링크
    - [Destructuring이란?](https://www.hackingwithswift.com/example-code/language/what-is-destructuring)
    - [refactoring 스킬들](https://seizze.github.io/2020/03/21/%EC%8A%A4%EC%9C%84%ED%94%84%ED%8A%B8-%EC%BD%94%EB%93%9C-%EB%A6%AC%ED%8C%A9%ED%86%A0%EB%A7%81-%EC%8A%A4%ED%82%AC%EB%93%A4.html)
    - [Changes requested 이후 재검토요청하는 방법](https://www.it-gundan.com/ko/git/github%EC%97%90%EC%84%9C-%ED%92%80-%EC%9A%94%EC%B2%AD%EC%9D%84-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8-%ED%95%9C-%ED%9B%84-%EA%B2%80%ED%86%A0-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EB%A5%BC-%EC%9E%AC%EA%B0%9C%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95%EC%9D%80-%EB%AC%B4%EC%97%87%EC%9E%85%EB%8B%88%EA%B9%8C/829139036/)
    - [Optional 코드 내부 들여다보기](https://github.com/apple/swift/blob/main/stdlib/public/core/Optional.swift)
    - [Int.zero](https://developer.apple.com/documentation/swift/int/3127690-zero)
