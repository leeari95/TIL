# 220228 MVVM, 프로젝트 설계

# TIL (Today I Learned)

3월 1일 (화)

## 학습 내용

- MVVM에 대해서 알아보기
- 프로젝트 매니저 STEP2를 위한 설계 고민해보기

&nbsp;

## 고민한 점 / 해결 방법

**[MVVM 간단 요약 정리]**

* `View`는 화면
* `Model`은 화면에 그려지기 위한 데이터
* `ViewModel`은 화면에 보여질 데이터를 가공하는 역할을 한다.
* `View` -> `ViewModel` -> `Model`
* Model은 3가지 형태로 나뉜다.
    * 원본
    * 원본에서 필요한 것만 필터링한 데이터
    * ViewModel에서 가지고 있는 데이터
* ViewModel의 특징
    * 화면에 그려야할 데이터를 가지고 있음
    * 비즈니스 로직도 가지고 있음
    * 따라서 View는 내가 갖고 있는 데이터를 가져다가 그리기만 해라~

---

**[리뷰어 찰리 리뷰 엿듣기]**

* ViewModel에는 UiKit import 하지말기
* ViewController에는 비즈니스 로직 넣지 말기
    * ViewModel에게 이벤트만 전달하자
    * 예를 들어 길게 터치했을 때... add버튼을 터치했을 때...등
* 어떤 라이브러리를 사용하든 `의존성`이 없어야 한다.
    * Storage라는 것을 추상화해서 프로토콜로 구현
    * 이후 Firebase, CoreData 등으로 쉽게 갈아끼울 수 있도록 설계해보자
* Rx의 경우 오퍼레이터에 빠져서 집중할 필요 없다.
* 결국 Relay, Subject, Observable... 등 기본적인 것만 해도 충분히 쓸 수 있다.

---

STEP2를 위해 Model, ViewModel, View를 구성하기 위한 TodoList를 만들어 두었다.
일단 만들어보기는 했으나, 직접 코드를 적어가면서 좀더 수정이 필요할 것 같다.
설계하면서 고민했던 점은,
* 추상화가 가능한 부분인지?
* View의 경우 중복되는 일부분을 CustomView로 만들어서 재사용을 할지, Controller 자체를 재사용할지...? (Add, Edit)
* View는 그리기만 하고 있는지, 비즈니스 로직이 들어가지 않았는지 검수
* ViewModel의 분리

곰튀김이 MVVM 전략에 대해 조언주셨던 부분도 복기해보았다.
* 설계 순서
    * 모델
    * 비즈니스 로직 (프로토콜로 추상화)
    * 동작을 검증 (테스트)
    * UI를 붙인다. (뷰는 껍데기일 뿐)
    * 구현~

이후에는 남은 코테문제들을 풀이했다.

---

- 참고링크
    - 곰튀김님 강의 복습

