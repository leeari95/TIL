{"identifier":{"url":"doc:\/\/AriNote\/documentation\/AriNote\/220304_RxSwift,_Observable,_Subject","interfaceLanguage":"swift"},"primaryContentSections":[{"content":[{"level":1,"anchor":"TIL-Today-I-Learned","text":"TIL (Today I Learned)","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"3ì›” 4ì¼ (ê¸ˆ)"}]},{"text":"í•™ìŠµ ë‚´ìš©","type":"heading","anchor":"%ED%95%99%EC%8A%B5-%EB%82%B4%EC%9A%A9","level":2},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"RxSwiftë¥¼ í™œìš©í•˜ì—¬ ViewModel ë¦¬íŒ©í† ë§ í•˜ê¸°","type":"text"}],"type":"paragraph"}]}]},{"inlineContent":[{"type":"text","text":"Â "}],"type":"paragraph"},{"anchor":"%EA%B3%A0%EB%AF%BC%ED%95%9C-%EC%A0%90--%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95","text":"ê³ ë¯¼í•œ ì  \/ í•´ê²° ë°©ë²•","type":"heading","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"ê¸°ì¡´ì—ëŠ” Observableì„ ì§ì ‘ êµ¬í˜„í•˜ì—¬ bindë¥¼ í•´ì£¼ê³  ìˆì—ˆìœ¼ë‚˜, Rxë¡œë„ í•  ìˆ˜ ìˆëŠ” ê±¸ ì™œ.. ì§ì ‘ êµ¬í˜„í•˜ê³  ìˆì§€? ë¼ëŠ” ì˜ë¬¸ì´ ë“¤ì—ˆë‹¤. ëª¨ë¥¸ë‹¤ê³  íšŒí”¼í•˜ë‹¤ê°€â€¦ ì°ì°í–ˆëŠ”ì§€ ViewModelì„ ê¼­!!! Rxë¡œ ë¦¬íŒ©í† ë§ ê¼­!!! í•´ë³´ê³ ì‹¶ì–´ì„œ ì‚½ì§ˆì„ ì‹œì‘í•˜ê²Œ ë˜ì—ˆë‹¤.","type":"text"}]}]}]},{"code":["final class ProjectListViewModel {","...","    var deleted: Observable<IndexPath>","...","","class ViewController: UIViewController {","    ","    func viewDidLoad() {","        viewModel.deleted.asObservable()","            .subscribe(onNext: { indexPath in","                self.tableView.deleteRows(at: [indexPath], with: .fade)","            }).disposed(by: bag)","","    }","..."],"syntax":"swift","type":"codeListing"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"ì¼ë‹¨ ViewControllerì—ì„œëŠ” ìœ„ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ë°”ì¸ë”© í•´ì£¼ì–´ì„œ ì‚¬ìš©í•´ì£¼ê³  ì‹¶ì—ˆë‹¤.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"ì²˜ìŒì—ëŠ” ì§ì ‘ êµ¬í˜„í•œ Observableì´ ì•„ë‹ˆë¼ Rxì˜ Observableì„ í™œìš©í•´ë³´ë ¤ê³  í–ˆì—ˆëŠ”ë°, ì‹¤íŒ¨í–ˆë‹¤."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"ì´ìœ ","type":"codeVoice"},{"type":"text","text":" ê·¸ ì´ìœ ëŠ” Observableì˜ ê²½ìš° ê°’ì„ ë„˜ê²¨ì£¼ëŠ” ì—­í• ë§Œ í•˜ì§€ ê°’ì„ ì™¸ë¶€ì—ì„œ ë°›ì•„ë“¤ì—¬ì„œ ë„˜ê²¨ì£¼ëŠ” ì—­í• ì€ í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"í•´ê²°"},{"text":" ë”°ë¼ì„œ ê°’ì„ ë°›ì•„ë¨¹ì„ ìˆ˜ ìˆìœ¼ë©´ì„œ ì´ ê°’ì„ ì™¸ë¶€ì—ì„œ ì»¨íŠ¸ë¡¤í•  ìˆ˜ ìˆëŠ” ê²ƒì´ ë­ê°€ ìˆì„ê¹Œ ì°¾ì•„ë³´ë‹¤ê°€ ","type":"text"},{"type":"codeVoice","code":"Subject"},{"text":"ë¼ëŠ” ì˜¤í¼ë ˆì´í„°ë¥¼ ì•Œê²Œë˜ì—ˆë‹¤.","type":"text"}]}]}]},{"type":"thematicBreak"},{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"[RxSwiftë¡œ ë°ì´í„° ë°”ì¸ë”© í•´ë³´ê¸°]"}]}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"ë°ì´í„° ë°”ì¸ë”©ì„ í†µí•˜ì—¬ í…Œì´ë¸”ë·°ì˜ delete ì´ë²¤íŠ¸ê°€ ë°œìƒë˜ë©´, ê·¸ì— ë”°ë¼ ë°ì´í„°ë„ ì œê±°í•´ì£¼ê³ , í•´ë‹¹í•˜ëŠ” ì…€ì´ ì•Œì•„ì„œ ì œê±°ë  ìˆ˜ ìˆë„ë¡ í•´ë³¼ ê²ƒì´ë‹¤."}]},{"type":"paragraph","inlineContent":[{"text":"ë¨¼ì € ViewModelì— ì…€ì„ ì œê±°í•˜ê¸° ìœ„í•´ í•„ìš”í•œ IndexPath ë°ì´í„°ë¥¼ ê°€ì§€ê³  ìˆëŠ” ","type":"text"},{"code":"PublishSubject<IndexPath>","type":"codeVoice"},{"type":"text","text":"ë¥¼ ìƒì„±í•œë‹¤."}]},{"type":"codeListing","code":["final class ProjectListViewModel {","    var deleted = PublishSubject<IndexPath>()","\/\/ ..."],"syntax":"swift"},{"type":"aside","style":"note","name":"Note","content":[{"inlineContent":[{"code":"Subject","type":"codeVoice"},{"text":"ë€?","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Observableì€ ê°’ì„ ë„˜ê²¨ì£¼ëŠ” ì—­í• ì„ í•˜ì§€, ê°’ì„ ì™¸ë¶€ì—ì„œ ë°›ì•„ë“¤ì—¬ì„œ ë„˜ê²¨ì£¼ëŠ” ì—­í• ì€ í•˜ì§€ì•ŠëŠ”ë‹¤. ê·¸ë˜ì„œ Observableì²˜ëŸ¼ ê°’ì„ ë°›ì•„ë¨¹ì„ ìˆ˜ëŠ” ìˆëŠ” ì• ì¸ë° ì™¸ë¶€ì—ì„œ ì´ ê°’ì„ ì»¨íŠ¸ë¡¤í•  ìˆœ ì—†ì„ê¹Œ? í•˜ê³  ë‚˜ì˜¨ ê²ƒì´ Subjectì´ë‹¤. Observableê³¼ Observerì—­í• ì„ ë™ì‹œì— ìˆ˜í–‰í•œë‹¤."}],"type":"paragraph"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"ì´ 4ê°€ì§€ì˜ ì¢…ë¥˜ê°€ ìˆë‹¤."}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"code":"AsyncSubject","type":"codeVoice"}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"ì—¬ëŸ¬ê°œê°€ êµ¬ë…ì„ í•˜ê³  ìˆë”ë¼ë„ ë‹¤ ì•ˆë‚´ë ¤ë³´ë‚´ì¤€ë‹¤."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"ê·¸ëŸ¬ë‹¤ê°€ completesë˜ëŠ” ì‹œì ì— ê°€ì¥ ë§ˆì§€ë§‰ì— ìˆë˜ ê±°ë¥¼ ëª¨ë“  ì• ë“¤í•œíƒœ ë‹¤ ë‚´ë ¤ì£¼ê³  completeì„ ì‹œí‚¨ë‹¤.","type":"text"}]}]}],"type":"unorderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"BehaviorSubject","type":"codeVoice"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"ê¸°ë³¸ê°’ì„ ê°€ì§€ê³  ì‹œì‘í•œë‹¤.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"ì•„ì§ ë°ì´í„°ê°€ ìƒì„±ë˜ì§€ ì•Šì•˜ì„ ë•Œ ëˆ„êµ°ê°€ê°€ subscribeë¥¼ í•˜ìë§ˆì ê¸°ë³¸ê°’ì„ ë‚´ë ¤ì¤€ë‹¤.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"ê·¸ë¦¬ê³  ë°ì´í„°ê°€ ìƒê¸°ë©´ ê·¸ë•Œë§ˆë‹¤ ê³„ì† ë‚´ë ¤ì¤€ë‹¤."}]}]},{"content":[{"inlineContent":[{"text":"ìƒˆë¡œìš´ ê²Œ ì¤‘ê°„ì— subscribeë¥¼ í•˜ê³ ë‚˜ë©´ ê°€ì¥ ìµœê·¼ì— ë°œìƒí–ˆë˜ ê°’ì„ ì¼ë‹¨ ë‚´ë ¤ì£¼ê³ ë‚˜ì„œ ê·¸ ë‹¤ìŒë¶€í„° ë°œìƒí•˜ëŠ” ë°ì´í„°ë¥¼ ë˜‘ê°™ì´ ëª¨ë“  êµ¬ë…í•˜ëŠ” ì• ë“¤í•œíƒœ ë‚´ë ¤ë³´ë‚´ì¤€ë‹¤.","type":"text"}],"type":"paragraph"}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"PublishSubject"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"subscribeë¥¼ í•˜ë©´ ë°ì´í„°ë¥¼ ê·¸ëŒ€ë¡œ ë‚´ë ¤ë³´ë‚´ì¤€ë‹¤."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"ë‹¤ë¥¸ subscribeê°€ ë˜ ìƒˆë¡­ê²Œ subscribe í•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ¼ ë˜ ë°ì´í„°ê°€ ìƒì„±ëœë‹¤ë©´ subscribeí•˜ê³  ìˆëŠ” ëª¨ë“  ê´€ì°°ìí•œíƒœ ë°ì´í„°ë¥¼ ë‚´ë ¤ì¤€ë‹¤."}]}]}]}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"ReplaySubject"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"subscribeë¥¼ í–ˆì„ ë•Œ ê·¸ëŒ€ë¡œ ìˆœì„œëŒ€ë¡œ ë°ì´í„°ë¥¼ ë‚´ë ¤ë³´ë‚´ì¤€ë‹¤."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"ë‘ë²ˆì§¸ë¡œ subscribeë¥¼ í•œë‹¤ë©´ ì—¬íƒœê¹Œì§€ ë°œìƒí–ˆë˜ ëª¨ë“  ë°ì´í„°ë¥¼ ë‹¤ ë‚´ë ¤ì¤€ë‹¤. í•œêº¼ë²ˆì— Replayë¥¼ í•˜ëŠ” ê²ƒì´ë‹¤.","type":"text"}]}]}],"type":"unorderedList"}]}],"type":"unorderedList"}]}]},{"inlineContent":[{"type":"text","text":"ë‚´ê°€ ì›í–ˆë˜ ê²ƒì€ ìƒˆ ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œì—ë§Œ subscribeê°€ ì‹¤í–‰ë˜ì—ˆìœ¼ë©´ í–ˆë‹¤. ë”°ë¼ì„œ ìƒˆë¡œìš´ ì´ë²¤íŠ¸ë§Œ ì „ë‹¬ë°›ê³  ì´ì „ì— ë°œìƒí–ˆë˜ ì´ë²¤íŠ¸ëŠ” ë²„ë¦¬ëŠ”[?] PublishSubjectë¥¼ ì„ íƒí–ˆë‹¤."}],"type":"paragraph"},{"inlineContent":[{"text":"ì´í›„ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¤ê¸° ìœ„í•´ ìœ„ì—ì„œ ìƒì„±í–ˆë˜ deletedì— ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ViewModelì— ë©”ì†Œë“œë¥¼ ìƒì„±í•˜ì˜€ë‹¤.","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["func delete(_ indexPath: IndexPath, completion: ((Project?) -> Void)?) {","        useCase.delete(projects[safe: indexPath.row]) { item in","            guard let item = item else {","                self.errorMessage.onNext(\"ì‚­ì œë¥¼ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\")","                completion?(nil)","                return","            }","            self.projects = self.useCase.fetch()","            self.deleted.onNext(indexPath)","            completion?(item)","        }","    }"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"ë³´ë©´ ì¸ìë¡œ ë°›ì€ indexPathë¥¼ deletedì— ì „ë‹¬í•˜ê³  ìˆëŠ” í˜•íƒœì´ë‹¤."},{"text":" ","type":"text"},{"text":"ì´ë ‡ê²Œ onNextë¡œ ìƒˆ ë°ì´í„°ë¥¼ ì „ë‹¬í•  ë•Œë§ˆë‹¤ subscribeê°€ ì‹¤í–‰ëœë‹¤ê³  ë³´ë©´ëœë‹¤.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"ViewControllerì— ê°€ì„œ ë°”ì¸ë”©ì„ í•´ì£¼ì."}]},{"type":"codeListing","code":["class ViewController: UIViewController {","","    var viewModel = ProjectListViewModel()","    ","    @IBOutlet weak var tableView: UITableView!","","    let bag = DisposeBag()","    ","    override func viewDidLoad() {","        super.viewDidLoad()","        tableView.dataSource = self","        tableView.delegate = self","        bind()","    }","    ","    func bind() {","        viewModel.deleted","            .subscribe(onNext: { indexPath in","                self.tableView.deleteRows(at: [indexPath], with: .fade)","            }).disposed(by: bag)","    }","\/\/ ...","}"],"syntax":"swift"},{"inlineContent":[{"type":"text","text":"ì „ë‹¬ë°›ì€ indexPathë¡œ ì…€ì„ ì§€ìš¸ ìˆ˜ ìˆë„ë¡ deleteRows ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•´ì£¼ì—ˆë‹¤."},{"type":"text","text":" "},{"type":"text","text":"ê·¸ë¦¬ê³  Delegate ë©”ì†Œë“œì—ì„œ delete ì´ë²¤íŠ¸ê°€ ì¼ì–´ë‚¬ì„ ë•Œ ViewModelì˜ delete ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ë„ë¡ í•´ì£¼ì—ˆë‹¤."}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["extension ViewController: UITableViewDelegate {","    func tableView(_ tableView: UITableView, commit editingStyle: UITableViewCell.EditingStyle, forRowAt indexPath: IndexPath) {","        if editingStyle == .delete {","            viewModel.delete(indexPath, completion: nil)","        }","    }","}"]},{"inlineContent":[{"type":"text","text":"íë¦„ì„ ë‹¤ì‹œ ì •ë¦¬í•˜ìë©´â€¦"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"ì…€ ì‚­ì œ ì´ë²¤íŠ¸ê°€ ë°œìƒë˜ë©´ ViewModelì˜ delete ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ indexPathë¥¼ ì „ë‹¬í•œë‹¤."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"ë©”ì†Œë“œ ë‚´ë¶€ì—ì„œ ViewModelì˜ PublushSubjectì¸ deletedì—ê²Œ "},{"code":"onNext","type":"codeVoice"},{"type":"text","text":"ë¡œ "},{"code":"ìƒˆ indexPath","type":"codeVoice"},{"type":"text","text":"ë¥¼ ì „ë‹¬í•œë‹¤."}]}]},{"content":[{"inlineContent":[{"text":"ìƒˆ ë°ì´í„°ë¥¼ ì „ë‹¬ë°›ì€ ","type":"text"},{"code":"PublushSubject","type":"codeVoice"},{"type":"text","text":"ëŠ” êµ¬ë…í•˜ê³  ìˆëŠ” ì• ë“¤ì—ê²Œ ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆìœ¼ë‹ˆ subscribeë¥¼ ì‹¤í–‰í•˜ë¼ê³  ì•Œë¦¼ì„ ì¤€ë‹¤."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"ë°”ì¸ë”©í•´ë‘ì—ˆë˜ "},{"code":"subscribe","type":"codeVoice"},{"type":"text","text":"ê°€ í˜¸ì¶œë˜ë©´ì„œ ì…€ì´ ì‚­ì œëœë‹¤."}]}]}]},{"type":"paragraph","inlineContent":[{"text":"ì´ë ‡ê²Œ í•´ì£¼ë©´ ì‚­ì œ ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ, ViewëŠ” ì•Œì•„ì„œ UIë¥¼ ì—…ë°ì´íŠ¸ í•˜ê²Œ ë˜ê³ , ViewModelì—ì„œë„ UseCaseì—ê²Œ ë°ì´í„°ë¥¼ ì‚­ì œìš”ì²­í•´ì„œ í…Œì´ë¸”ë·°ì˜ ë³´ì—¬ì§ˆ ë°ì´í„°ë„ ì—…ë°ì´íŠ¸ ëœë‹¤.","type":"text"}]},{"content":[{"inlineContent":[{"text":"ë‚´ê°€ ì›í•˜ëŠ” ë°©ì‹ì˜ ë¡œì§ì´ ì§œì—¬ì¡Œì§€ë§Œ, ì´ê²Œ ì ì ˆí•œ ë°©ë²•ì¸ì§€ëŠ” ì‚¬ì‹¤ ëª¨ë¥´ê² ë‹¤! ë¬¸ì œë¼ë©´ ê·¸ë•Œê°€ì„œ ê³ ì³ë´ì•¼ì§€â€¦ ì¼ë‹¨ PRì„ ë³´ë‚´ì„œ ë¦¬ë·°ë¥¼ ë°›ì•„ë´ì•¼ ì•Œ ê²ƒ ê°™ë‹¤. ì–´ì¨Œë“  ì„±ê³µí•´ì„œ ê¸°ì˜ë‹¤~!!","type":"text"}],"type":"paragraph"}],"type":"aside","style":"note","name":"Note"},{"type":"thematicBreak"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"ì°¸ê³ ë§í¬","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"ìƒˆë²½ì— RxSwift ê°ì„ ìµíˆê²Œ ë„ì™€ì£¼ì‹  ê°“ì›¨ë”â€¦.ğŸ‘ğŸ»"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"ê°“íŠ€ê¹€ë‹˜ ê°•ì˜!!!!!"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"https:\/\/www.youtube.com\/watch?v=iHKBNYMWd5I&t=8679s"}]}]}],"type":"unorderedList"}]}]}]}]}],"kind":"content"}],"kind":"article","sections":[],"hierarchy":{"paths":[["doc:\/\/AriNote\/documentation\/AriNote","doc:\/\/AriNote\/documentation\/AriNote\/Rx"]]},"schemaVersion":{"major":0,"patch":0,"minor":3},"metadata":{"title":"220304 RxSwift, Observable, Subject","modules":[{"name":"Ari's Notes"}],"role":"article","roleHeading":"Article"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/arinote\/220304_rxswift,_observable,_subject"]}],"references":{"doc://AriNote/documentation/AriNote":{"kind":"symbol","type":"topic","identifier":"doc:\/\/AriNote\/documentation\/AriNote","abstract":[{"type":"codeVoice","code":"Today I Learned"}],"url":"\/documentation\/arinote","title":"Ari's Notes","role":"collection"},"doc://AriNote/documentation/AriNote/Rx":{"type":"topic","abstract":[{"type":"text","text":"RxSwiftë¥¼ í™œìš©í•œ ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°"}],"role":"collectionGroup","url":"\/documentation\/arinote\/rx","identifier":"doc:\/\/AriNote\/documentation\/AriNote\/Rx","title":"RxSwift","kind":"article"}}}