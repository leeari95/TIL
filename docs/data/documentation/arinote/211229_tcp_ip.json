{"identifier":{"url":"doc:\/\/AriNote\/documentation\/AriNote\/211229_TCP_IP","interfaceLanguage":"swift"},"hierarchy":{"paths":[["doc:\/\/AriNote\/documentation\/AriNote","doc:\/\/AriNote\/documentation\/AriNote\/CS"]]},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/arinote\/211229_tcp_ip"]}],"primaryContentSections":[{"kind":"content","content":[{"type":"heading","text":"TIL (Today I Learned)","level":1,"anchor":"TIL-Today-I-Learned"},{"type":"paragraph","inlineContent":[{"type":"text","text":"12월 29일 (수)"}]},{"type":"heading","text":"학습 내용","anchor":"%ED%95%99%EC%8A%B5-%EB%82%B4%EC%9A%A9","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"TCP\/IP 예습","type":"text"}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":" "}]},{"text":"고민한 점 \/ 해결 방법","type":"heading","level":2,"anchor":"%EA%B3%A0%EB%AF%BC%ED%95%9C-%EC%A0%90--%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95"},{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"[TCP\/IP]"}],"type":"strong"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"인터넷이란?","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"전 세계에 걸쳐 파일 전송 등의 데이터 통신 서비스를 받을 수 있는 컴퓨터 네트워크의 시스템","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"인터넷을 비용을 주고 사용한다"}]},{"items":[{"content":[{"inlineContent":[{"text":"이것은 사업자가 만들어 놓은 네트워크 인프라를 사용하는 것","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"TCP\/IP란?","type":"text"}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"인터넷에서 컴퓨터들이 서로 정보를 주고 받는데 쓰이는 프로토콜의 집합"}],"type":"paragraph"}]}],"type":"unorderedList"}]},{"content":[{"inlineContent":[{"type":"text","text":"계층"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"Application Layer","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"특정 서비스를 제공하기 위해 애플리케이션끼리 정보를 주고 받을 수 있다."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"브라우저와 웹서버가 HTTP 요청, 응답을 통해 통신하는 것을 예로 들 수 있다."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"HTTP, FTP, SSH, Telnet, DNS, SMTP 등과 같은 프로토콜이 사용된다","type":"text"}]}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Transport Layer"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"송신된 데이터를 수신측 애플리케이션에 확실히 전달하게 해준다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"네트워크 통신을 하는 애플리케이션은 포트번호를 사용하게 된다."}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"따라서 Transport Layer는 포트번호를 사용해서 애플리케이션을 찾아주는 역할을 한다."}],"type":"paragraph"}]}],"type":"unorderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"TCP, UDP, RTP, RTCP 와 같은 프로토콜이 사용된다."}]}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Internet Layer"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"수신 측까지 데이터를 전달하기 위해 사용된다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"송신측, 수신측 모두 IP주소를 가지고 있다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"IP주소를 바탕으로 올바른 목적지로 찾아갈 수 있도록 해준다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"IP, ARP, ICMP, RARP, OSPF 같은 프로토콜이 사용된다.","type":"text"}]}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Network Access Layer"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"네트워크에 직접 연결된 기기간의 데이터 전송을 도와준다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"여기서는 물리적인 주소인 MAC주소를 사용한다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Ethernet, PPP, Token Ring 같은 프로토콜이 사용된다.","type":"text"}]}]}]}]}],"type":"unorderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"www.google.com을 웹브라우저에 입력하면 무슨일이 일어날까요?","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"웹브라우저에 위 주소를 입력한다는 것은 구글 웹서버의 80포트로 아래와 같은 HTTP Request 메세지를 보내는 것이다."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"https:\/\/i.imgur.com\/86md72e.png"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"해당 요청을 인터넷을 통해 구글서버로 전달하기 위해 우리는 패킷을 만들어야 한다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"패킷에는 각 계층에 필요한 정보들이 담겨야 한다."}]}]},{"content":[{"inlineContent":[{"text":"그리고 여기서는 각 계층 별로 HTTP, TCP, IP, Ethernet 프로토콜을 사용한다고 가정하자.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"일단 패킷의 Application Layer에는 위에서 작성한 HTTP Request가 들어간다."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"https:\/\/i.imgur.com\/vHyWDtp.png"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"TCP 패킷의 헤더는 아래와 같이 생겼다."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"https:\/\/i.imgur.com\/Ji52ep5.png"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"다른 부분이 많지만 우선 중요하게 볼 것은 SP와 DP다."}]}]},{"content":[{"inlineContent":[{"type":"text","text":"시작 포트번호와 목적지 포트번호를 말한다."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"시작 포트번호는 내 컴퓨터에서 만든 소켓의 포트 번호라서 당연히 내 컴퓨터는 알고 있을 것이다."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"그리고 목적지 포트번호 또한 80으로 우리는 알고있다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"80은 웹서버의 웰노운 포트번호다."}]}]},{"content":[{"inlineContent":[{"identifier":"https:\/\/i.imgur.com\/BQRrwPs.png","type":"image"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"다음으로는 IP 헤더에 대한 정보를 채워보자."}]}]},{"content":[{"inlineContent":[{"text":"여기서도 중요한 정보는 SA와 DA 즉, 시작 IP주소와 목적지 IP주소이다.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"나의 시작 IP주소는 알고있겠지만, 목적지 IP주소는 아직 모른다.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"지금은 www.google.com 이라는 도메인 정보만 알고 있다."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"그렇지만 DNS 프로토콜을 통해서 도메인 정보로 IP주소를 알아낼 수 있다."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"https:\/\/i.imgur.com\/rG7YJ10.png"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"브라우저는 OS에게 domain에 대한 ip주소를 알고 싶다고 요청한다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"그러면 OS에서 DNS서버로 요청을 보내게 된다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"https:\/\/i.imgur.com\/IAKcFA1.png"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"그럼 OS가 DNS서버를 어떻게 알고있을까?","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"DNS 서버 주소는 이미 컴퓨터에 등록이 되어있다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"맥북의 경우 시스템 환경설정 - 네트워크에 들어가보면 내가 알고있는 DNS서버 주소를 볼 수 있다."}]}]},{"content":[{"inlineContent":[{"identifier":"https:\/\/i.imgur.com\/dtxFR1e.png","type":"image"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"DNS 또한 HTTP와 같은 애플리케이션 계층 프로토콜이다."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"그리고 DNS는 53번 포트를 사용한다.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"image","identifier":"https:\/\/i.imgur.com\/Hqb9XiF.png"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"DNS도 HTTP Request와 비슷하게 도메인이 담긴 쿼리를 도메인 서버로 보낸다."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"https:\/\/i.imgur.com\/4ynNjrF.png"}]}]},{"content":[{"inlineContent":[{"text":"그러면 도메인 서버가 IP주소를 응답해준다.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"DNS는 Transport Layer에서 UDP라는 프로토콜을 사용한다."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"identifier":"https:\/\/i.imgur.com\/xyBWUo9.png","type":"image"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"UDP는 TCP와 다르게 헤더가 간단하다. 포트번호말고 다른게 없다."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"그 이유는 UDP가 비연결지향형 프로토콜이기 때문이다."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"TCP는 연결지향형 프로토콜이다."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"이제 DNS를 통해 성공적으로 도메인 이름에 대한 IP주소를 받아오게 되었다.","type":"text"}]}]},{"content":[{"inlineContent":[{"identifier":"https:\/\/i.imgur.com\/Z375cPd.png","type":"image"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"image","identifier":"https:\/\/i.imgur.com\/XMqsm2L.png"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"마지막으로 Ethernet 프로토콜에 대한 헤더를 만들어야 하는데 아직 MAC 주소를 모른다.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"MAC주소를 어떻게 알아봐야할까?"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"MAC주소를 알아오기 전에 이전까지는 우리가 목표인 구글서버에 대한 정보가 필요했다."}]}]},{"content":[{"inlineContent":[{"type":"image","identifier":"https:\/\/i.imgur.com\/t0qsmsO.png"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"그러면 MAC 주소도 우리의 목적지인 구글 웹서버의 MAC주소가 필요할까?"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"여기서 MAC주소는 구글의 MAC 주소 대신, 물리적으로 연결된 우리집 공유기의 MAC 주소가 필요하다."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"https:\/\/i.imgur.com\/uJsN2C0.png"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"이 공유기를 통해 다른 네트워크와 연결이 가능하니 게이트웨이라고 부르기도 한다."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"따라서 게이트웨이의 IP는 이미 알고있다."}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Netstat 명령어를 통해 확인할 수 있다."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"identifier":"https:\/\/i.imgur.com\/cAGkkvb.png","type":"image"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"그럼 어떻게 IP주소로 MAC주소를 알 수 있을까?"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"IP주소로 MAC주소를 알아내기 위해서 ARP 프로토콜을 사용한다.","type":"text"}]},{"items":[{"content":[{"inlineContent":[{"text":"ARP란?","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"IP주소를 MAC주소로 바꾸어주는 주소해석 프로토콜","type":"text"}],"type":"paragraph"}]}]}]}],"type":"unorderedList"}]}],"type":"unorderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"자 이제 MAC 주소까지 알아냈으니 패킷이 각박한 네트워크 세계로 나갈 준비가 되었다."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"그런데 요청을 보내기 전에 한가지 더 봐야할게 있다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"바로 TCP가 연결지향형 프로토콜이라는 점이다."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"그래서 TCP 프로토콜은 데이터를 전송하기 위해 송신측과 수신측이 서로 연결되는 작업이 필요하다."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"https:\/\/i.imgur.com\/79Nhvhh.png"}]}]},{"content":[{"inlineContent":[{"text":"이러한 작업을 3 Way Handshaking이라고 불린다.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"3 Way Handshaking을 수행하기 위해서는 TCP 헤더에 표시한 플래그들이 사용된다.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"이러한 플래그들을 컨트롤 비트라고 부른다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"3 Way Handshaking 에서는 SYN과 ACK 플래그가 사용된다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"identifier":"https:\/\/i.imgur.com\/xBJ4FOx.png","type":"image"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"클라이언트는 서버에게 접속을 요청하는 SYN 패킷을 보낸다."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"서버는 SYN 요청을 받고 클라이언트에게 요청을 수락한다는 ACK과 SYN 플래그가 설정된 패킷을 보낸다.","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"클라이언트는 서버에게 다시 ACK을 보낸다.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"이제부터 연결이 이루어지고 데이터가 오가게 된다."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"이제 3 Way Handshaking으로 연결이 성립되었으니 데이터가 보내질 차례이다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"내가 사용하는 컴퓨터는 Private IP를 사용하고 있다.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"image","identifier":"https:\/\/i.imgur.com\/nIa3aUV.png"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Private IP는 외부의 네트워크 환경에서 IP주소를 찾지 못한다."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"그래서 공유기를 통해 나갈 때 public ip 주소를 변환하여 나가는 작업이 필요하다.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"이러한 작업을 NAT(Network Adress Translation)이라고 한다."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"우리집 공유기를 거치고 나서 구글서버에 도착하기 위해 여러 라우터를 거쳐야 한다."}]}]},{"content":[{"inlineContent":[{"text":"라우터는 네트워크와 네트워크를 연결해주는 역할을 한다.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"라우터가 목적지 경로를 찾아나가는 과정을 라우팅이라고 한다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"https:\/\/i.imgur.com\/S5S7xjv.png"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"라우팅을 거쳐 구글서버가 연결된 라우터까지 데이터가 도착을 하면 패킷의 IP헤더에 기록된 구글 서버 IP주소를 통해 MAC 주소를 얻어와야 한다.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"이때 이전에 설명했던 ARP프로토콜을 사용한다. APR는 라우터가 연결된 네트워크에 브로드 캐스팅 된다."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"목적지 구글서버가 자신의 IP로 온 ARP요청을 받으면 MAC주소를 응답해준다."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"이제 목적지 구글서버의 MAC 주소를 알았으니 데이터가 물리적으로 전달될 수 있다.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"ARP로 IP주소를 통해 MAC주소를 얻고 목적지 구글서버에 데이터가 도착했다.","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Internet Layer의 IP주소와 Network Access Layer의 MAC주소를 사용해서 올바른 목적지에 도착했으니 Transport Layer부터 알아보자.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Transport Layer의 목적지 포트번호에는 80번이 적혀있다.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"이것을 보고 80번 포트를 사용하고 있는 애플리케이션에게 데이터를 전달해줘야 하는 것을 알 수 있다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Application Layer 까지 오면 웹 서버가 사용될 HTTP Request 데이터를 얻을 수 있게 된다."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"이제 서버에서 정상적으로 HTTP Request를 받고 응답을 돌려보낸다."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"identifier":"https:\/\/i.imgur.com\/xUMjGaZ.png","type":"image"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"“\/“에 매핑된 GET요청을 처리해서 적절한 HTML을 응답해준다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"실제 크롬 개발자 분석도구를 통해 확인해보면 아래와 같은 HTML을 받았다는 것을 알 수 있다."}]}]},{"content":[{"inlineContent":[{"type":"image","identifier":"https:\/\/i.imgur.com\/wS3ayk5.png"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"HTTP의 요청과 응답과정이 끝나면 연결을 종료해야 한다.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"여기서도 TCP의 컨트롤 비트가 사용된다."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"identifier":"https:\/\/i.imgur.com\/HSHGWTx.png","type":"image"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"이 단계에서는 ACK, FIN 플래그가 사용된다."}]}]},{"content":[{"inlineContent":[{"identifier":"https:\/\/i.imgur.com\/731dS8b.png","type":"image"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"클라이언트가 서버로 연결을 종료하겠다는 FIN 플래그를 전송한다."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"서버는 클라이언트에게 ACK 메세지를 보내고 자신의 통신이 끝날 때 까지 기다린다.","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"서버가 통신이 끝나면 클라이언트로 FIN을 보낸다."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"클라이언트는 확인했다는 의미로 서버에게 ACK을 보내면 연결종료가 완료된다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"총 4단계에 걸쳐 진행되고, 이것을 4-Way-Handshaking이라고 부른다."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"https:\/\/i.imgur.com\/dPBXUrU.png"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"그런데 서버가 FIN을 보내는 과정에서 한가지 문제가 발생할 수 있다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"서버가 FIN을 보내기 전에 보냈던 데이터가 FIN보다 늦게 도착할 경우에…","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"https:\/\/i.imgur.com\/dZpfup8.png"}]}]},{"content":[{"inlineContent":[{"text":"서버로 부터 FIN을 수신했다고 클라이언트가 바로 연결된 소켓을 닫아버리면 FIN을 보내기 전에 보낸 패킷은 영영 클라이언트가 받을 수 없게 된다.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"image","identifier":"https:\/\/i.imgur.com\/txZ2OhB.png"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"그래서 클라이언트는 서버로부터 FIN 요청을 받더라도 일정시간 동안 소켓을 닫지 않고 혹시나 아직 도착하지 않은 잉여 패킷을 기다린다.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"이렇게 4-Way-Handshaking 과정이 완료되어도 소켓을 닫지 않고 잉여패킷을 기다리는 상태를 TIME_WAT이라고 한다."}]}]}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"연결지향형 프로토콜인 TCP는?"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"TCP는 신뢰할 수 있는 프로토콜이라고도 한다."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"요즘 세상에 우리는 엄청나게 큰 데이터를 주고 받는다."}]}]},{"content":[{"inlineContent":[{"text":"그래서 한개의 패킷으로만 주고 받기에는 상당한 무리가 있다.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"그래서 데이터를 잘게 쪼개서 보내게 되고, 많은 패킷을 보내게 된다."}]}]},{"content":[{"inlineContent":[{"type":"text","text":"그리고 이러한 패킷들은 엄청 복잡한 인터넷을 통해 목적지로 이동한다."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"이러한 복잡한 환경에서 과연 데이터들이 유실 되지않거나 올바른 순서대로 잘 도착할 수 있을까?"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"바로 그 어려운 것을 신뢰할 수 있는 프로토콜인 TCP가 가능하게 해준다."}]}]},{"content":[{"inlineContent":[{"text":"TCP는 흐름제어, 오류제어, 혼잡제어를 통해 신뢰성있는 데이터 전송을 보장할 수 있게 해준다.","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}]}]},{"type":"thematicBreak"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"참고링크","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"https:\/\/www.youtube.com\/watch?v=BEK354TRgZ8"}]}]}]}]}]}]}],"metadata":{"roleHeading":"Article","modules":[{"name":"Ari's Notes"}],"title":"211229 TCP\/IP","role":"article"},"schemaVersion":{"patch":0,"major":0,"minor":3},"sections":[],"kind":"article","references":{"https://i.imgur.com/Ji52ep5.png":{"type":"image","identifier":"https:\/\/i.imgur.com\/Ji52ep5.png","alt":null,"variants":[{"url":"https:\/\/i.imgur.com\/Ji52ep5.png","traits":["1x","light"]}]},"https://i.imgur.com/nIa3aUV.png":{"type":"image","identifier":"https:\/\/i.imgur.com\/nIa3aUV.png","alt":null,"variants":[{"url":"https:\/\/i.imgur.com\/nIa3aUV.png","traits":["1x","light"]}]},"https://i.imgur.com/uJsN2C0.png":{"type":"image","identifier":"https:\/\/i.imgur.com\/uJsN2C0.png","alt":null,"variants":[{"url":"https:\/\/i.imgur.com\/uJsN2C0.png","traits":["1x","light"]}]},"https://i.imgur.com/wS3ayk5.png":{"type":"image","identifier":"https:\/\/i.imgur.com\/wS3ayk5.png","alt":null,"variants":[{"url":"https:\/\/i.imgur.com\/wS3ayk5.png","traits":["1x","light"]}]},"https://i.imgur.com/86md72e.png":{"type":"image","identifier":"https:\/\/i.imgur.com\/86md72e.png","alt":null,"variants":[{"url":"https:\/\/i.imgur.com\/86md72e.png","traits":["1x","light"]}]},"https://i.imgur.com/4ynNjrF.png":{"type":"image","identifier":"https:\/\/i.imgur.com\/4ynNjrF.png","alt":null,"variants":[{"url":"https:\/\/i.imgur.com\/4ynNjrF.png","traits":["1x","light"]}]},"https://i.imgur.com/t0qsmsO.png":{"type":"image","identifier":"https:\/\/i.imgur.com\/t0qsmsO.png","alt":null,"variants":[{"url":"https:\/\/i.imgur.com\/t0qsmsO.png","traits":["1x","light"]}]},"https://i.imgur.com/XMqsm2L.png":{"type":"image","identifier":"https:\/\/i.imgur.com\/XMqsm2L.png","alt":null,"variants":[{"url":"https:\/\/i.imgur.com\/XMqsm2L.png","traits":["1x","light"]}]},"doc://AriNote/documentation/AriNote/CS":{"type":"topic","role":"collectionGroup","url":"\/documentation\/arinote\/cs","kind":"article","title":"CS","identifier":"doc:\/\/AriNote\/documentation\/AriNote\/CS","abstract":[{"type":"text","text":"Computer Science"}]},"https://i.imgur.com/dPBXUrU.png":{"type":"image","identifier":"https:\/\/i.imgur.com\/dPBXUrU.png","alt":null,"variants":[{"url":"https:\/\/i.imgur.com\/dPBXUrU.png","traits":["1x","light"]}]},"https://i.imgur.com/HSHGWTx.png":{"type":"image","identifier":"https:\/\/i.imgur.com\/HSHGWTx.png","alt":null,"variants":[{"url":"https:\/\/i.imgur.com\/HSHGWTx.png","traits":["1x","light"]}]},"https://i.imgur.com/txZ2OhB.png":{"type":"image","identifier":"https:\/\/i.imgur.com\/txZ2OhB.png","alt":null,"variants":[{"url":"https:\/\/i.imgur.com\/txZ2OhB.png","traits":["1x","light"]}]},"https://i.imgur.com/cAGkkvb.png":{"type":"image","identifier":"https:\/\/i.imgur.com\/cAGkkvb.png","alt":null,"variants":[{"url":"https:\/\/i.imgur.com\/cAGkkvb.png","traits":["1x","light"]}]},"https://i.imgur.com/Z375cPd.png":{"type":"image","identifier":"https:\/\/i.imgur.com\/Z375cPd.png","alt":null,"variants":[{"url":"https:\/\/i.imgur.com\/Z375cPd.png","traits":["1x","light"]}]},"https://i.imgur.com/xyBWUo9.png":{"type":"image","identifier":"https:\/\/i.imgur.com\/xyBWUo9.png","alt":null,"variants":[{"url":"https:\/\/i.imgur.com\/xyBWUo9.png","traits":["1x","light"]}]},"https://i.imgur.com/S5S7xjv.png":{"type":"image","identifier":"https:\/\/i.imgur.com\/S5S7xjv.png","alt":null,"variants":[{"url":"https:\/\/i.imgur.com\/S5S7xjv.png","traits":["1x","light"]}]},"https://i.imgur.com/79Nhvhh.png":{"type":"image","identifier":"https:\/\/i.imgur.com\/79Nhvhh.png","alt":null,"variants":[{"url":"https:\/\/i.imgur.com\/79Nhvhh.png","traits":["1x","light"]}]},"https://i.imgur.com/IAKcFA1.png":{"type":"image","identifier":"https:\/\/i.imgur.com\/IAKcFA1.png","alt":null,"variants":[{"url":"https:\/\/i.imgur.com\/IAKcFA1.png","traits":["1x","light"]}]},"https://i.imgur.com/rG7YJ10.png":{"type":"image","identifier":"https:\/\/i.imgur.com\/rG7YJ10.png","alt":null,"variants":[{"url":"https:\/\/i.imgur.com\/rG7YJ10.png","traits":["1x","light"]}]},"https://i.imgur.com/BQRrwPs.png":{"type":"image","identifier":"https:\/\/i.imgur.com\/BQRrwPs.png","alt":null,"variants":[{"url":"https:\/\/i.imgur.com\/BQRrwPs.png","traits":["1x","light"]}]},"https://i.imgur.com/Hqb9XiF.png":{"type":"image","identifier":"https:\/\/i.imgur.com\/Hqb9XiF.png","alt":null,"variants":[{"url":"https:\/\/i.imgur.com\/Hqb9XiF.png","traits":["1x","light"]}]},"https://i.imgur.com/vHyWDtp.png":{"type":"image","identifier":"https:\/\/i.imgur.com\/vHyWDtp.png","alt":null,"variants":[{"url":"https:\/\/i.imgur.com\/vHyWDtp.png","traits":["1x","light"]}]},"https://i.imgur.com/xUMjGaZ.png":{"type":"image","identifier":"https:\/\/i.imgur.com\/xUMjGaZ.png","alt":null,"variants":[{"url":"https:\/\/i.imgur.com\/xUMjGaZ.png","traits":["1x","light"]}]},"https://i.imgur.com/731dS8b.png":{"type":"image","identifier":"https:\/\/i.imgur.com\/731dS8b.png","alt":null,"variants":[{"url":"https:\/\/i.imgur.com\/731dS8b.png","traits":["1x","light"]}]},"https://i.imgur.com/dZpfup8.png":{"type":"image","identifier":"https:\/\/i.imgur.com\/dZpfup8.png","alt":null,"variants":[{"url":"https:\/\/i.imgur.com\/dZpfup8.png","traits":["1x","light"]}]},"doc://AriNote/documentation/AriNote":{"kind":"symbol","type":"topic","identifier":"doc:\/\/AriNote\/documentation\/AriNote","abstract":[{"type":"codeVoice","code":"Today I Learned"}],"url":"\/documentation\/arinote","title":"Ari's Notes","role":"collection"},"https://i.imgur.com/xBJ4FOx.png":{"type":"image","identifier":"https:\/\/i.imgur.com\/xBJ4FOx.png","alt":null,"variants":[{"url":"https:\/\/i.imgur.com\/xBJ4FOx.png","traits":["1x","light"]}]},"https://i.imgur.com/dtxFR1e.png":{"type":"image","identifier":"https:\/\/i.imgur.com\/dtxFR1e.png","alt":null,"variants":[{"url":"https:\/\/i.imgur.com\/dtxFR1e.png","traits":["1x","light"]}]}}}